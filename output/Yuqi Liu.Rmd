---
title: "Exploring Happiness: A Data Story from people come from different countries"
output: html_notebook
---
## Abstract

#### In this data analysis project, we delve into the HappyDB corpus, a collection of 100,922 crowd-sourced happy moments. The dataset prompts individuals to reflect on the past 24 hours and recall three events that made them happy. Utilizing tools from text mining and natural language processing, we aim to uncover intriguing trends and patterns within these happy moments. Through sentiment analysis, topic modeling, and visualization techniques, we explore the nuances of happiness expressed by individuals in their daily lives. Happiness is a fundamental aspect of human experience, and understanding its trigger.

## Introduction 

#### Happiness is a fundamental aspect of human experience, and understanding its triggers can provide valuable insights into our well-being. The HappyDB project offers a unique opportunity to analyze real-life instances of happiness, as reported by individuals from diverse backgrounds and contexts. By applying computational techniques, we can uncover hidden patterns within the different countries.

## Step 1

##### By generalising and summarising the datas from demographic.csv, we can see that 9,274 people from the US and 964 from India participated in the survey, while the participants from other countries was a few. In order to make the results of the study more typically, we looked at how Americans and Indians differed in terms of their happy moments.
```{r}
install.packages("tidyverse")
install.packages("tidytext")
library(tidyverse)
library(tidytext)
library(SnowballC)
library(dplyr)
library(readr)
data <- read_csv("/Users/fengxinsuoai/Downloads/clean.csv")
demographic <- read_csv("/Users/fengxinsuoai/Downloads/demographic.csv")
country_summary <- demographic %>%
  group_by(country) %>%
  summarise(Count = n()) %>%
  arrange(desc(Count))
print(country_summary)
```
## Step 2

##### If we summarise the keywords for people's happy moments, we find that the top four moments for Americans are family, school, food and people.
```{r}
library(dplyr)
merged_data <- inner_join(demographic, data, by = "wid")
usa_data <- merged_data %>% 
  filter(country == "USA")
terms <- c("family", "people", "pets", "shopping", "works", "entertainment", "food", "exercise", "school")

term_counts <- numeric(length(terms))

for (i in seq_along(terms)) {
  term_counts[i] <- sum(str_count(usa_data$cleaned_hm, terms[i]))
}

summary_table <- data.frame(Term = terms, Count = term_counts)
print(summary_table)

library(ggplot2)
sorted_summary_table <- summary_table[order(-summary_table$Count), ]

ggplot(sorted_summary_table, aes(x = reorder(Term, Count), y = Count)) +
  geom_col(fill = "steelblue") +
  coord_flip() + 
  labs(title = "Counts of Specific Terms  from USA",
       x = "Term",
       y = "Count") +
  theme_minimal()
```
##### However, for Indians, the top four moments are family, school, people and food, so we will focus on people and food.
```{r}
ind_data <- merged_data %>% 
  filter(country == "IND")
terms <- c("family", "people", "pets", "shopping", "works", "entertainment", "food", "exercise", "school")

term_counts<- numeric(length(terms))

for (i in seq_along(terms)) {
  term_counts[i] <- sum(str_count(ind_data$cleaned_hm, terms[i]))
}

summary_table2 <- data.frame(Term = terms, Count = term_counts)
print(summary_table2)
library(ggplot2)

sorted_summary_table <- summary_table2[order(-summary_table2$Count), ]

ggplot(sorted_summary_table, aes(x = reorder(Term, Count), y = Count)) +
  geom_col(fill = "steelblue") +
  coord_flip() + 
  labs(title = "Counts of Specific Terms  from INA",
       x = "Term",
       y = "Count") +
  theme_minimal()


```
## Step 3

##### Let us review the merged_data for happy moments
```{r}
print(merged_data)
```
##### Below are some examples of the happy moments related to people and food created by INA.
```
I hang out with my fiancee and we had dinner together

I ate a very good dinner with my family

My mom took us to dinner and I ate a shrimp chimichanga
```
However these are some examples if the happy moments related to people and food created by USA.
```
I drank a great coffee this morning

I had a conference where I met many new people

The organic hummus I bought is delicious
```
##### We can find that in Indiaï¼Œfood and family are usually closely linked. Whereas in America, a happy moment for people can be having a cup of coffee alone

## Conclusion

##### 1.For USA,the top four moments are family, school, food and people. However, for Indians, the top four moments are family, school, people and food.
##### 2. Also, Food and family are more closely linked in India than in the USA.